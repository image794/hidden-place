<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ù–∞–π–¥–∏ —Å–ø—Ä—è—Ç–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <style>
    :root {
      color-scheme: dark;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html,
    body {
      height: 100%;
    }

    body {
      background: #000;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden; /* –Ω–∏—á–µ–≥–æ –Ω–µ —Å–∫—Ä–æ–ª–ª–∏–º, –≤—Å—ë –≤–ª–µ–∑–∞–µ—Ç –≤ —ç–∫—Ä–∞–Ω */
    }

    .game-wrapper {
      position: relative;
      width: 100vw;
      height: 100vh;
      max-width: 430px; /* –ø–æ–¥ —à–∏—Ä–∏–Ω—É –∞–π—Ñ–æ–Ω–∞ –≤ –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ */
      background: #000;
      overflow: hidden;
    }

    .image-container {
      position: relative;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }

    /* –§–æ–Ω: —Ç–≤–æ—è –≥–ª–∞–≤–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ */
    .base-image {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: brightness(0.98);
      transition: filter 0.3s ease;
    }

    .items-layer {
      position: absolute;
      inset: 0;
      pointer-events: none; /* —Å–∞–º–∏ –ø—Ä–µ–¥–º–µ—Ç—ã –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã, —Å–ª–æ–π –Ω–µ—Ç */
      transition: opacity 0.4s ease;
    }

    .item {
      position: absolute;
      pointer-events: auto;
      cursor: pointer;
      user-select: none;
      -webkit-user-drag: none;
      /* —Ä–∞–∑–º–µ—Ä –ø—Ä–µ–¥–º–µ—Ç–æ–≤: –ø—Ä–∏–º–µ—Ä–Ω–æ –≤ 3 —Ä–∞–∑–∞ –º–µ–Ω—å—à–µ, —á–µ–º –±—ã–ª–æ */
      width: 7vw;
      max-width: 40px;
      min-width: 22px;
      aspect-ratio: 1 / 1;
      transform: translate(-50%, -50%);
      transition:
        opacity 0.28s ease,
        transform 0.28s ease,
        box-shadow 0.2s ease;
    }

    /* –õ—ë–≥–∫–∏–π –∫–æ–Ω—Ç—É—Ä, –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º —Ñ–æ–Ω–æ–º */
    .item::after {
      content: "";
      position: absolute;
      inset: -4px;
      border-radius: 10px;
      border: 1px solid rgba(255, 255, 255, 0.18);
      box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.4);
    }

    .item:hover {
      transform: translate(-50%, -50%) scale(1.08);
      box-shadow: 0 0 16px rgba(255, 255, 255, 0.3);
    }

    .item-good.found {
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.6) rotate(-10deg);
      box-shadow: none;
      pointer-events: none;
    }

    .item-bad.wrong {
      transform: translate(-50%, -50%) scale(1.1);
      box-shadow: 0 0 20px rgba(255, 80, 80, 0.7);
    }

    /* HUD —Å–≤–µ—Ä—Ö—É (–∑–∞–≥–æ–ª–æ–≤–æ–∫, –∫–Ω–æ–ø–∫–∞ –º—É–∑—ã–∫–∏, —Å—á—ë—Ç—á–∏–∫) */
    .hud {
      position: absolute;
      top: calc(env(safe-area-inset-top, 0px) + 10px);
      left: 10px;
      right: 10px;
      z-index: 10;
      display: flex;
      flex-direction: column;
      gap: 6px;
      color: #f5f5f5;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
    }

    .hud-title {
      font-size: 16px;
      font-weight: 600;
    }

    .hud-sub {
      font-size: 13px;
      opacity: 0.9;
    }

    .hud-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
    }

    .hud-button {
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.4);
      background: rgba(0, 0, 0, 0.55);
      color: #f5f5f5;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .hud-button:active {
      transform: scale(0.96);
    }

    .hud-counter {
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.25);
      white-space: nowrap;
    }

    /* –°–æ–æ–±—â–µ–Ω–∏–µ "–≤—Å–µ –Ω–∞–π–¥–µ–Ω–æ" –≤–Ω–∏–∑—É */
    .final-message {
      position: absolute;
      left: 10px;
      right: 10px;
      bottom: calc(env(safe-area-inset-bottom, 0px) + 12px);
      padding: 10px 12px;
      border-radius: 12px;
      background: rgba(15, 120, 70, 0.88);
      color: #f7fff9;
      font-size: 13px;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.8);
      opacity: 0;
      transform: translateY(12px);
      pointer-events: none;
      transition: opacity 0.3s ease, transform 0.3s ease;
      z-index: 10;
    }

    .game-complete .final-message {
      opacity: 1;
      transform: translateY(0);
    }

    .game-complete .items-layer {
      opacity: 0;
      pointer-events: none;
    }

    .game-complete .base-image {
      filter: brightness(1.06);
    }
  </style>
</head>
<body>
  <div class="game-wrapper" id="game">
    <div class="image-container">
      <!-- –í–ê–ñ–ù–û: –∏–º—è —Ñ–∞–π–ª–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¢–û–ß–ù–û —Ç–∞–∫–∏–º –∂–µ, –∫–∞–∫ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏: background.jpg -->
      <img src="background.jpg" alt="–§–æ–Ω" class="base-image" />

      <!-- –°–ª–æ–π —Å –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ -->
      <div class="items-layer" id="itemsLayer">
        <!-- 18 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö -->
        <img src="good1.png" class="item item-good" data-type="good" alt="Good item 1" />
        <img src="good2.png" class="item item-good" data-type="good" alt="Good item 2" />
        <img src="good3.png" class="item item-good" data-type="good" alt="Good item 3" />
        <img src="good4.png" class="item item-good" data-type="good" alt="Good item 4" />
        <img src="good5.png" class="item item-good" data-type="good" alt="Good item 5" />
        <img src="good6.png" class="item item-good" data-type="good" alt="Good item 6" />
        <img src="good7.png" class="item item-good" data-type="good" alt="Good item 7" />
        <img src="good8.png" class="item item-good" data-type="good" alt="Good item 8" />
        <img src="good9.png" class="item item-good" data-type="good" alt="Good item 9" />
        <img src="good10.png" class="item item-good" data-type="good" alt="Good item 10" />
        <img src="good11.png" class="item item-good" data-type="good" alt="Good item 11" />
        <img src="good12.png" class="item item-good" data-type="good" alt="Good item 12" />
        <img src="good13.png" class="item item-good" data-type="good" alt="Good item 13" />
        <img src="good14.png" class="item item-good" data-type="good" alt="Good item 14" />
        <img src="good15.png" class="item item-good" data-type="good" alt="Good item 15" />
        <img src="good16.png" class="item item-good" data-type="good" alt="Good item 16" />
        <img src="good17.png" class="item item-good" data-type="good" alt="Good item 17" />
        <img src="good18.png" class="item item-good" data-type="good" alt="Good item 18" />

        <!-- 82 –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö -->
        <img src="bad1.png" class="item item-bad" data-type="bad" alt="Bad item 1" />
        <img src="bad2.png" class="item item-bad" data-type="bad" alt="Bad item 2" />
        <img src="bad3.png" class="item item-bad" data-type="bad" alt="Bad item 3" />
        <img src="bad4.png" class="item item-bad" data-type="bad" alt="Bad item 4" />
        <img src="bad5.png" class="item item-bad" data-type="bad" alt="Bad item 5" />
        <img src="bad6.png" class="item item-bad" data-type="bad" alt="Bad item 6" />
        <img src="bad7.png" class="item item-bad" data-type="bad" alt="Bad item 7" />
        <img src="bad8.png" class="item item-bad" data-type="bad" alt="Bad item 8" />
        <img src="bad9.png" class="item item-bad" data-type="bad" alt="Bad item 9" />
        <img src="bad10.png" class="item item-bad" data-type="bad" alt="Bad item 10" />
        <img src="bad11.png" class="item item-bad" data-type="bad" alt="Bad item 11" />
        <img src="bad12.png" class="item item-bad" data-type="bad" alt="Bad item 12" />
        <img src="bad13.png" class="item item-bad" data-type="bad" alt="Bad item 13" />
        <img src="bad14.png" class="item item-bad" data-type="bad" alt="Bad item 14" />
        <img src="bad15.png" class="item item-bad" data-type="bad" alt="Bad item 15" />
        <img src="bad16.png" class="item item-bad" data-type="bad" alt="Bad item 16" />
        <img src="bad17.png" class="item item-bad" data-type="bad" alt="Bad item 17" />
        <img src="bad18.png" class="item item-bad" data-type="bad" alt="Bad item 18" />
        <img src="bad19.png" class="item item-bad" data-type="bad" alt="Bad item 19" />
        <img src="bad20.png" class="item item-bad" data-type="bad" alt="Bad item 20" />
        <img src="bad21.png" class="item item-bad" data-type="bad" alt="Bad item 21" />
        <img src="bad22.png" class="item item-bad" data-type="bad" alt="Bad item 22" />
        <img src="bad23.png" class="item item-bad" data-type="bad" alt="Bad item 23" />
        <img src="bad24.png" class="item item-bad" data-type="bad" alt="Bad item 24" />
        <img src="bad25.png" class="item item-bad" data-type="bad" alt="Bad item 25" />
        <img src="bad26.png" class="item item-bad" data-type="bad" alt="Bad item 26" />
        <img src="bad27.png" class="item item-bad" data-type="bad" alt="Bad item 27" />
        <img src="bad28.png" class="item item-bad" data-type="bad" alt="Bad item 28" />
        <img src="bad29.png" class="item item-bad" data-type="bad" alt="Bad item 29" />
        <img src="bad30.png" class="item item-bad" data-type="bad" alt="Bad item 30" />
        <img src="bad31.png" class="item item-bad" data-type="bad" alt="Bad item 31" />
        <img src="bad32.png" class="item item-bad" data-type="bad" alt="Bad item 32" />
        <img src="bad33.png" class="item item-bad" data-type="bad" alt="Bad item 33" />
        <img src="bad34.png" class="item item-bad" data-type="bad" alt="Bad item 34" />
        <img src="bad35.png" class="item item-bad" data-type="bad" alt="Bad item 35" />
        <img src="bad36.png" class="item item-bad" data-type="bad" alt="Bad item 36" />
        <img src="bad37.png" class="item item-bad" data-type="bad" alt="Bad item 37" />
        <img src="bad38.png" class="item item-bad" data-type="bad" alt="Bad item 38" />
        <img src="bad39.png" class="item item-bad" data-type="bad" alt="Bad item 39" />
        <img src="bad40.png" class="item item-bad" data-type="bad" alt="Bad item 40" />
        <img src="bad41.png" class="item item-bad" data-type="bad" alt="Bad item 41" />
        <img src="bad42.png" class="item item-bad" data-type="bad" alt="Bad item 42" />
        <img src="bad43.png" class="item item-bad" data-type="bad" alt="Bad item 43" />
        <img src="bad44.png" class="item item-bad" data-type="bad" alt="Bad item 44" />
        <img src="bad45.png" class="item item-bad" data-type="bad" alt="Bad item 45" />
        <img src="bad46.png" class="item item-bad" data-type="bad" alt="Bad item 46" />
        <img src="bad47.png" class="item item-bad" data-type="bad" alt="Bad item 47" />
        <img src="bad48.png" class="item item-bad" data-type="bad" alt="Bad item 48" />
        <img src="bad49.png" class="item item-bad" data-type="bad" alt="Bad item 49" />
        <img src="bad50.png" class="item item-bad" data-type="bad" alt="Bad item 50" />
        <img src="bad51.png" class="item item-bad" data-type="bad" alt="Bad item 51" />
        <img src="bad52.png" class="item item-bad" data-type="bad" alt="Bad item 52" />
        <img src="bad53.png" class="item item-bad" data-type="bad" alt="Bad item 53" />
        <img src="bad54.png" class="item item-bad" data-type="bad" alt="Bad item 54" />
        <img src="bad55.png" class="item item-bad" data-type="bad" alt="Bad item 55" />
        <img src="bad56.png" class="item item-bad" data-type="bad" alt="Bad item 56" />
        <img src="bad57.png" class="item item-bad" data-type="bad" alt="Bad item 57" />
        <img src="bad58.png" class="item item-bad" data-type="bad" alt="Bad item 58" />
        <img src="bad59.png" class="item item-bad" data-type="bad" alt="Bad item 59" />
        <img src="bad60.png" class="item item-bad" data-type="bad" alt="Bad item 60" />
        <img src="bad61.png" class="item item-bad" data-type="bad" alt="Bad item 61" />
        <img src="bad62.png" class="item item-bad" data-type="bad" alt="Bad item 62" />
        <img src="bad63.png" class="item item-bad" data-type="bad" alt="Bad item 63" />
        <img src="bad64.png" class="item item-bad" data-type="bad" alt="Bad item 64" />
        <img src="bad65.png" class="item item-bad" data-type="bad" alt="Bad item 65" />
        <img src="bad66.png" class="item item-bad" data-type="bad" alt="Bad item 66" />
        <img src="bad67.png" class="item item-bad" data-type="bad" alt="Bad item 67" />
        <img src="bad68.png" class="item item-bad" data-type="bad" alt="Bad item 68" />
        <img src="bad69.png" class="item item-bad" data-type="bad" alt="Bad item 69" />
        <img src="bad70.png" class="item item-bad" data-type="bad" alt="Bad item 70" />
        <img src="bad71.png" class="item item-bad" data-type="bad" alt="Bad item 71" />
        <img src="bad72.png" class="item item-bad" data-type="bad" alt="Bad item 72" />
        <img src="bad73.png" class="item item-bad" data-type="bad" alt="Bad item 73" />
        <img src="bad74.png" class="item item-bad" data-type="bad" alt="Bad item 74" />
        <img src="bad75.png" class="item item-bad" data-type="bad" alt="Bad item 75" />
        <img src="bad76.png" class="item item-bad" data-type="bad" alt="Bad item 76" />
        <img src="bad77.png" class="item item-bad" data-type="bad" alt="Bad item 77" />
        <img src="bad78.png" class="item item-bad" data-type="bad" alt="Bad item 78" />
        <img src="bad79.png" class="item item-bad" data-type="bad" alt="Bad item 79" />
        <img src="bad80.png" class="item item-bad" data-type="bad" alt="Bad item 80" />
        <img src="bad81.png" class="item item-bad" data-type="bad" alt="Bad item 81" />
        <img src="bad82.png" class="item item-bad" data-type="bad" alt="Bad item 82" />
      </div>
    </div>

    <!-- HUD -->
    <div class="hud">
      <div class="hud-title">–ù–∞–π–¥–∏ –≤—Å–µ —Å–ø—Ä—è—Ç–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã üîç</div>
      <div class="hud-row">
        <button class="hud-button" id="musicToggle" type="button">
          –í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É üéµ
        </button>
        <div class="hud-counter" id="counter">–ù–∞–π–¥–µ–Ω–æ 0 –∏–∑ 18</div>
      </div>
      <div class="hud-sub" id="statusText">
        –ù–∞–∂–∏–º–∞–π –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã, —á—Ç–æ–±—ã –æ–Ω–∏ –∏—Å—á–µ–∑–∞–ª–∏.
      </div>
    </div>

    <div class="final-message" id="finalMessage">
      –ë—Ä–∞–≤–æ! üéâ –¢—ã –Ω–∞—à–ª–∞ –≤—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã. –ö–∞—Ä—Ç–∏–Ω–∫–∞ —Ç–µ–ø–µ—Ä—å —á–∏—Å—Ç–∞—è ‚Äî –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∑–∞–¥–∞–Ω–∏—é.
    </div>
  </div>

  <!-- –ú—É–∑—ã–∫–∞ (–ø–æ –∂–µ–ª–∞–Ω–∏—é –¥–æ–±–∞–≤—å —Ñ–∞–π–ª music.mp3 –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π) -->
  <audio id="bgMusic" loop preload="auto">
    <source src="music.mp3" type="audio/mpeg" />
  </audio>

  <script>
    const game = document.getElementById('game');
    const items = Array.from(document.querySelectorAll('.item'));
    const goodItems = items.filter((el) => el.dataset.type === 'good');
    const totalGood = goodItems.length;
    const counterEl = document.getElementById('counter');
    const statusText = document.getElementById('statusText');
    const finalMessage = document.getElementById('finalMessage');
    const musicToggle = document.getElementById('musicToggle');
    const bgMusic = document.getElementById('bgMusic');

    let foundGood = 0;
    let musicOn = false;

    function updateCounter() {
      counterEl.textContent = `–ù–∞–π–¥–µ–Ω–æ ${foundGood} –∏–∑ ${totalGood}`;
    }

    updateCounter();

    // –†–∞–Ω–¥–æ–º–Ω–æ —Ä–∞—Å–∫–∏–¥—ã–≤–∞–µ–º –≤—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã –ø–æ —ç–∫—Ä–∞–Ω—É
    function placeItemsRandomly() {
      items.forEach((item) => {
        // –ß—Ç–æ–±—ã –ø—Ä–µ–¥–º–µ—Ç—ã –±—ã–ª–∏ –ø–æ –≤—Å–µ–º—É —ç–∫—Ä–∞–Ω—É, –Ω–æ –Ω–µ –ø—Ä—è–º–æ —É –∫—Ä–∞—ë–≤
        const top = 10 + Math.random() * 80;  // 10‚Äì90%
        const left = 10 + Math.random() * 80; // 10‚Äì90%
        item.style.top = `${top}%`;
        item.style.left = `${left}%`;
      });
    }

    placeItemsRandomly();

    // –ö–ª–∏–∫–∏ –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º
    items.forEach((item) => {
      item.addEventListener('click', () => {
        const type = item.dataset.type;

        if (type === 'good') {
          if (item.classList.contains('found')) return;

          item.classList.add('found');
          foundGood++;
          updateCounter();

          if (foundGood === totalGood) {
            statusText.textContent = '–í—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã –Ω–∞–π–¥–µ–Ω—ã! üéâ';
            game.classList.add('game-complete');
          } else {
            statusText.textContent = '–û—Ç–ª–∏—á–Ω–æ! –ò—â–∏ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã‚Ä¶';
          }
        } else {
          // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ‚Äî –Ω–µ–±–æ–ª—å—à–∞—è –∞–Ω–∏–º–∞—Ü–∏—è "–æ—à–∏–±–∫–∏"
          item.classList.add('wrong');
          statusText.textContent = '–≠—Ç–æ –Ω–µ —Ç–æ—Ç –ø—Ä–µ–¥–º–µ—Ç. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë üòâ';
          setTimeout(() => item.classList.remove('wrong'), 200);
        }
      });
    });

    // –ú—É–∑—ã–∫–∞
    musicToggle.addEventListener('click', async () => {
      try {
        if (!musicOn) {
          await bgMusic.play();
          musicOn = true;
          musicToggle.textContent = '–í—ã–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É üîá';
        } else {
          bgMusic.pause();
          musicOn = false;
          musicToggle.textContent = '–í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É üéµ';
        }
      } catch (e) {
        console.log('–ù–µ —É–¥–∞–ª–æ—Å—å –≤–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É:', e);
      }
    });
  </script>
</body>
</html>
