<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ù–∞–π–¥–∏ –≤—Å–µ —Å–¥–µ–ª–∞–Ω–Ω—ã–µ —Ç–æ–±–æ–π —Ñ–æ—Ç–æ üì∏</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: #05060a;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: #f5f5f5;
    }

    body {
      display: flex;
      justify-content: center;
      padding: max(10px, env(safe-area-inset-top, 0px)) 10px 16px;
    }

    .page {
      width: min(430px, 100vw);
    }

    .top-ui {
      margin-bottom: 8px;
      padding: 8px 10px 8px;
      border-radius: 18px;
      background: radial-gradient(circle at 0 0, #343b66, #181927);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .top-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .game-title {
      font-size: 18px;
      font-weight: 600;
    }

    .game-subtitle {
      font-size: 13px;
      opacity: 0.9;
    }

    .pill {
      border-radius: 999px;
      padding: 6px 10px;
      font-size: 13px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(0, 0, 0, 0.45);
      white-space: nowrap;
    }

    .pill-btn {
      cursor: pointer;
      outline: none;
    }

    .pill-btn:active {
      transform: scale(0.97);
    }

    .counter-pill {
      font-weight: 600;
    }

    /* –†–∞–º–∫–∞ —Å —Ñ–æ–Ω–æ–º –∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ –ø–æ–¥ —Ä–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ */
    .image-frame {
      position: relative;
      width: 100%;
      aspect-ratio: 9 / 14; /* —á—É—Ç—å –Ω–∏–∂–µ, —á–µ–º 9/16 ‚Äî –º–µ–Ω—å—à–µ –≤—ã—Å–æ—Ç–∞, —á—Ç–æ–±—ã –Ω–µ —Å–∫—Ä–æ–ª–ª–∏—Ç—å */
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 18px 45px rgba(0, 0, 0, 0.75);
      background: #000;
    }

    /* –§–æ–Ω: —Ç–≤–æ—è –æ—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ */
    .base-image {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: brightness(0.96);
      transition: filter 0.25s ease;
    }

    /* –°–ª–æ–π —Å –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ */
    .items-layer {
      position: absolute;
      inset: 0;
      pointer-events: none; /* –∫–ª–∏–∫–∏ —Ç–æ–ª—å–∫–æ –ø–æ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º, –Ω–µ –ø–æ —Å–ª–æ—é */
    }

    .item {
      position: absolute;
      pointer-events: auto;
      cursor: pointer;
      user-select: none;
      -webkit-user-drag: none;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.1),
                  0 10px 25px rgba(0, 0, 0, 0.65);
      transform: translate(-50%, -50%) rotate(var(--initial-rotation, 0deg));
      transition:
        transform 0.18s ease,
        opacity 0.3s ease,
        box-shadow 0.18s ease;
      background: rgba(0, 0, 0, 0.6);
    }

    .item-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .item:hover {
      box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.45),
                  0 12px 30px rgba(0, 0, 0, 0.9);
      transform: translate(-50%, -50%) scale(1.03) rotate(var(--initial-rotation, 0deg));
    }

    .item.found {
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.7) rotate(var(--initial-rotation, 0deg));
      box-shadow: none;
      pointer-events: none;
    }

    .page.game-complete .base-image {
      filter: brightness(1.05);
    }

    .status-text {
      font-size: 13px;
      opacity: 0.9;
    }

    /* –°–ª–æ–π –¥–ª—è –±–ª—ë—Å—Ç–æ–∫ */
    .sparkles-layer {
      position: absolute;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
    }

    .sparkle {
      position: absolute;
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: radial-gradient(circle, #ffffff, rgba(255, 255, 255, 0));
      opacity: 0;
      animation: sparkle-pop 1.2s ease-out forwards;
    }

    @keyframes sparkle-pop {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.4) rotate(45deg);
  }
  20% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1) rotate(45deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.4) rotate(45deg);
  }
	}
  /* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏ */
  .hint-highlight {
    animation: hintGlow 1.2s ease-out, shake 0.4s ease-in-out;
    z-index: 999 !important;
  }

  @keyframes hintGlow {
    0%   { transform: translate(-50%, -50%) scale(1); box-shadow: 0 0 0px 0 rgba(255, 255, 0, 0.8); }
    50%  { transform: translate(-50%, -50%) scale(1.18); box-shadow: 0 0 22px 12px rgba(255, 255, 0, 0.9); }
    100% { transform: translate(-50%, -50%) scale(1); box-shadow: 0 0 0px 0 rgba(255, 255, 0, 0); }
  }

  @keyframes shake {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    25% { transform: translate(-50%, -48%) rotate(-3deg); }
    50% { transform: translate(-50%, -50%) rotate(3deg); }
    75% { transform: translate(-50%, -52%) rotate(-3deg); }
    100% { transform: translate(-50%, -50%) rotate(0deg); }
  }
  
  </style>
</head>
<body>
  <div class="page" id="page">
    <header class="top-ui">
      <div class="top-row">
        <div class="game-title">–ù–∞–π–¥–∏ –≤—Å–µ —á—Ç–æ —Å–∫—Ä—ã—Ç–æ üîç</div>
        <button class="pill pill-btn" id="musicToggle">–ü–æ–¥–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ üéµ</button>
      </div>
      <button class="pill pill-btn" id="hintBtn"> –û–±—Ä–∞—Ç–∏—Ç—å—Å—è –∑–∞ –ø–æ–º–æ—â—å—é –∫ –æ—Ä–∞–∫—É–ª—É (3 —Ä–∞–∑–∞)</button>
      <div class="top-row">
        <div class="game-subtitle">
          –ù–∞–∂–∏–º–∞–π –Ω–∞ —Å–≤–æ–∏ —Ñ–æ—Ç–æ, —á—Ç–æ–±—ã –æ–Ω–∏ –∏—Å—á–µ–∑–∞–ª–∏.
        </div>
        <div class="pill counter-pill" id="counter">–ù–∞–π–¥–µ–Ω–æ 0 –∏–∑ 36</div>
      </div>
      <div class="status-text" id="statusText">
        –ù–∞–π–¥–∏ 36 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Ñ–æ—Ç–æ. –û—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å üôÇ
      </div>
    </header>

    <div class="image-frame">
      <!-- —Ç–≤–æ–π —Ñ–æ–Ω: –ø—Ä–æ—Å—Ç–æ –∑–∞–º–µ–Ω–∏ bg1.jpg –Ω–∞ —Å–≤–æ–π —Ñ–∞–π–ª -->
      <img src="bg1.jpg" alt="–§–æ–Ω" class="base-image" />

      <!-- —Å–ª–æ–π —Å —Ñ–æ—Ç–∫–∞–º–∏ -->
      <div class="items-layer" id="itemsLayer"></div>

      <!-- —Å–ª–æ–π –¥–ª—è –±–ª—ë—Å—Ç–æ–∫ -->
      <div class="sparkles-layer" id="sparklesLayer"></div>
    </div>
  </div>

  <script>
    // === –ù–ê–°–¢–†–û–ô–ö–ò ===
    const goodFiles = [
      // 36 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∫–∞—Ä—Ç–∏–Ω–æ–∫
      'good1.jpg','good2.jpg','good3.jpg','good4.jpg','good5.jpg','good6.jpg',
      'good7.jpg','good8.jpg','good9.jpg','good10.jpg','good11.jpg','good12.jpg',
      'good13.jpg','good14.jpg','good15.jpg','good16.jpg','good17.jpg','good18.jpg',
      'good19.jpg','good20.jpg','good21.jpg','good22.jpg','good23.jpg','good24.jpg',
      'good25.jpg','good26.jpg','good27.jpg','good28.jpg','good29.jpg','good30.jpg',
      'good31.jpg','good32.jpg','good33.jpg','good34.jpg','good35.jpg','good36.jpg',
    ];

    const badFiles = [
      // 60 –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∫–∞—Ä—Ç–∏–Ω–æ–∫
      'bad1.jpg','bad2.jpg','bad3.jpg','bad4.jpg','bad5.jpg','bad6.jpg',
      'bad7.jpg','bad8.jpg','bad9.jpg','bad10.jpg','bad11.jpg','bad12.jpg',
      'bad13.jpg','bad14.jpg','bad15.jpg','bad16.jpg','bad17.jpg','bad18.jpg',
      'bad19.jpg','bad20.jpg','bad21.jpg','bad22.jpg','bad23.jpg','bad24.jpg',
      'bad25.jpg','bad26.jpg','bad27.jpg','bad28.jpg','bad29.jpg','bad30.jpg',
      'bad31.jpg','bad32.jpg','bad33.jpg','bad34.jpg','bad35.jpg','bad36.jpg',
      'bad37.jpg','bad38.jpg','bad39.jpg','bad40.jpg','bad41.jpg','bad42.jpg',
      'bad43.jpg','bad44.jpg','bad45.jpg','bad46.jpg','bad47.jpg','bad48.jpg',
      'bad49.jpg','bad50.jpg','bad51.jpg', 'bad52.jpg',
      'bad53.jpg', 'bad54.jpg', 'bad55.jpg', 'bad56.jpg',
      'bad57.jpg', 'bad58.jpg', 'bad59.jpg', 'bad60.jpg',
    ];

    const GOOD_COUNT = goodFiles.length;
    const BAD_COUNT  = badFiles.length;
    const TOTAL_ITEMS = GOOD_COUNT + BAD_COUNT;

    // —Ä–∞–∑–º–µ—Ä—ã (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –æ—Ç —à–∏—Ä–∏–Ω—ã —Ä–∞–º–∫–∏):
    const BASE_WIDTH_PERCENT = 20;  // –±–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏
    const SIZE_VARIATION = 0.1;     // ¬±20% –ø–æ —Ä–∞–∑–º–µ—Ä—É
    const ROTATED_COUNT = 33;       // —Å–∫–æ–ª—å–∫–æ –∫–∞—Ä—Ç–∏–Ω–æ–∫ —á—É—Ç—å –ø–æ–≤–µ—Ä–Ω—É—Ç—å
    const COLS = 9;                 // "—Å–µ—Ç–∫–∞" –¥–ª—è —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
    const ROWS = 12;                // –≤–º–µ—Å—Ç–µ –¥–∞—ë—Ç 88+ —è—á–µ–µ–∫; –ø–ª—é—Å –¥–∂–∏—Ç—Ç–µ—Ä
    const JITTER = 1;               // —Ä–∞–∑–±—Ä–æ—Å –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ —è—á–µ–π–∫–∏ (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)

    const page          = document.getElementById('page');
    const itemsLayer    = document.getElementById('itemsLayer');
    const counterEl     = document.getElementById('counter');
    const statusTextEl  = document.getElementById('statusText');
    const musicToggle   = document.getElementById('musicToggle');
    const sparklesLayer = document.getElementById('sparklesLayer');

    let foundGood = 0;

    // === –ü–û–î–°–ö–ê–ó–ö–ò ===
	let hintsLeft = 3;
	const hintBtn = document.getElementById('hintBtn');

	hintBtn.addEventListener('click', () => {
	  if (hintsLeft <= 0) {
	    statusTextEl.textContent = "–®—Ç–æ—à, —Ç–µ–ø–µ—Ä—å –Ω–∞–¥–µ–∂–¥–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å‚úã";
	    return;
	  }

	  // –ò—â–µ–º –Ω–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
	  const candidates = Array.from(document.querySelectorAll('.item.good:not(.found)'));

	  if (candidates.length === 0) return;

	  hintsLeft--;
	  hintBtn.textContent = `–ü–æ–º–æ—â—å –≥–ª–∞–∑–∞–º ‚ú® (${hintsLeft})`;

	  const target = candidates[Math.floor(Math.random() * candidates.length)];

	  // –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É
	  target.classList.add('hint-highlight');

	  // —É–±–∏—Ä–∞–µ–º —á–µ—Ä–µ–∑ 1.2 —Å–µ–∫
	  setTimeout(() => {
	    target.classList.remove('hint-highlight');
	  }, 1200);
	});

    // === –°–ü–ò–°–û–ö –ö–ê–†–¢–û–ß–ï–ö ===
    const itemsData = [];

    goodFiles.forEach((name, index) => {
      itemsData.push({
        src: name,
        type: 'good',
        label: `–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ç–æ ${index + 1}`,
      });
    });

    badFiles.forEach((name, index) => {
      itemsData.push({
        src: name,
        type: 'bad',
        label: `–ó–∞—â–∏—â–µ–Ω–æ –∞–≤—Ç–æ—Ä—Å–∫–∏–º –ø—Ä–∞–≤–æ–º, –Ω–µ —Ç–≤–æ—ë ${index + 1}`,
      });
    });

    // –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º, —á—Ç–æ–±—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–µ —à–ª–∏ –ø–æ–¥—Ä—è–¥
    shuffle(itemsData);

    // === –ú–£–ó–´–ö–ê (—Ñ–æ–Ω) ===
    let audio;
    let musicOn = false;
    try {
      audio = new Audio('music.mp3'); // —Ç–≤–æ–π –æ—Å–Ω–æ–≤–Ω–æ–π —Ç—Ä–µ–∫
      audio.loop = true;
    } catch (e) {
      audio = null;
    }

    musicToggle.addEventListener('click', () => {
      if (!audio) return;
      musicOn = !musicOn;
      if (musicOn) {
        audio.play().catch(() => {});
        musicToggle.textContent = '–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤–∫–ª üé∂';
      } else {
        audio.pause();
        musicToggle.textContent = '–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤—ã–∫–ª üéµ';
      }
    });

    // === –ü–û–ë–ï–î–ù–´–ô –ó–í–£–ö ===
    let winSound;
    try {
      winSound = new Audio('win.mp3');   // ‚Üê —Ç–≤–æ–π "–≤–∞–∞–∞–∞—É"-–∑–≤—É–∫
      winSound.addEventListener('ended', () => {
        // –∫–æ–≥–¥–∞ –ø–æ–±–µ–¥–Ω—ã–π –∑–≤—É–∫ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ—Å–Ω–æ–≤–Ω—É—é –º—É–∑—ã–∫—É, –µ—Å–ª–∏ –æ–Ω–∞ –±—ã–ª–∞ –≤–∫–ª—é—á–µ–Ω–∞
        if (musicOn && audio) {
          audio.play().catch(() => {});
        }
      });
    } catch (e) {
      winSound = null;
    }

    // === –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ===

    function updateCounter() {
      counterEl.textContent = `–ù–∞–π–¥–µ–Ω–æ ${foundGood} –∏–∑ ${GOOD_COUNT}`;
    }

    function runSparklesExplosion() {
      if (!sparklesLayer) return;

      // –æ—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ –±–ª—ë—Å—Ç–∫–∏
      sparklesLayer.innerHTML = '';

      const count = 160; // –ë–û–õ–¨–®–ï –±–ª—ë—Å—Ç–æ–∫
      for (let i = 0; i < count; i++) {
        const s = document.createElement('div');
        s.className = 'sparkle';

        // —Å–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ —à–∏—Ä–∏–Ω–µ/–≤—ã—Å–æ—Ç–µ
        s.style.left = (5 + Math.random() * 90) + '%';
        s.style.top  = (15 + Math.random() * 70) + '%';

        // –Ω–µ–±–æ–ª—å—à–æ–µ —Å–ª—É—á–∞–π–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∏ –∑–∞–¥–µ—Ä–∂–∫–∏
        const delay = Math.random() * 0.6;
        const scale = 0.6 + Math.random() * 0.9;
        s.style.animationDelay = `${delay}s`;
        s.style.transform = `translate(-50%, -50%) scale(${scale})`;

        sparklesLayer.appendChild(s);
      }

      //—É–±–∏—Ä–∞–µ–º –±–ª—ë—Å—Ç–∫–∏ –ß–£–¢–¨ –ü–û–ó–ñ–ï, —á–µ–º –¥–ª–∏—Ç—Å—è –∞–Ω–∏–º–∞—Ü–∏—è
      setTimeout(() => {
        if (sparklesLayer) {
          sparklesLayer.innerHTML = '';
        }
      }, 2300);
    }

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π —è—á–µ–µ–∫
    function makeGridPositions(cols, rows) {
      const cells = [];
      for (let r = 0; r < rows; r++) {
        for (let c = 0; c < cols; c++) {
          const x = ((c + 0.5) / cols) * 100;
          const y = ((r + 0.5) / rows) * 100;
          cells.push({ x, y });
        }
      }
      return shuffle(cells);
    }

    // –≤—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —á—É—Ç—å –ø–æ–≤–µ—Ä–Ω—É—Ç—ã
    const rotatedIndexes = new Set();
    while (rotatedIndexes.size < Math.min(33, itemsData.length)) {
      rotatedIndexes.add(Math.floor(Math.random() * itemsData.length));
    }

    const gridPositions = makeGridPositions(COLS, ROWS);

    // === –°–û–ó–î–ê–Å–ú –ö–ê–†–¢–ò–ù–ö–ò –í DOM ===
    itemsData.forEach((item, index) => {
      const cell = gridPositions[index];

      const wrapper = document.createElement('div');
      wrapper.className = `item ${item.type}`;
      wrapper.dataset.type = item.type;

      // —Å–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä ¬±20%
      const delta = (Math.random() * 2 - 1) * SIZE_VARIATION; // –æ—Ç -0.2 –¥–æ +0.2
      const width = BASE_WIDTH_PERCENT * (1 + delta);

      // –Ω–µ–±–æ–ª—å—à–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ —è—á–µ–π–∫–∏
      const offsetX = (Math.random() * 2 - 1) * JITTER;
      const offsetY = (Math.random() * 2 - 1) * JITTER;

      const x = cell.x + offsetX;
      const y = cell.y + offsetY;

      wrapper.style.width = `${width}%`;
      wrapper.style.left = `${x}%`;
      wrapper.style.top = `${y}%`;

      // –ø–æ–≤–æ—Ä–æ—Ç —á–∞—Å—Ç–∏ –∫–∞—Ä—Ç–∏–Ω–æ–∫
      let rotation = 0;
      if (rotatedIndexes.has(index)) {
        rotation = (Math.random() * 30 - 15).toFixed(1); // –æ—Ç -15¬∞ –¥–æ +15¬∞
      }
      wrapper.style.setProperty('--initial-rotation', `${rotation}deg`);

      const img = document.createElement('img');
      img.src = item.src;
      img.alt = item.label;
      img.className = 'item-img';

      wrapper.appendChild(img);
      itemsLayer.appendChild(wrapper);
    });

    // === –õ–û–ì–ò–ö–ê –ö–õ–ò–ö–û–í ===
    updateCounter();

    itemsLayer.addEventListener('click', (event) => {
      const target = event.target.closest('.item');
      if (!target) return;

      // –°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É
      if (target.querySelector('img').src.includes('bad15.jpg')) {
        alert("–û–≥–æ! –¢—ã –Ω–∞—à–ª–∞ —Å–µ–∫—Ä–µ—Ç–Ω–æ–µ —Ñ–æ—Ç–æ!üòç –ù–æ –Ω–µ—Ç....—ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –ø–æ–ø—Ä–æ–±—É–π –µ—â–µ");
      }

      const type = target.dataset.type;

      if (type === 'good') {
        if (target.classList.contains('found')) return;
        target.classList.add('found');
        foundGood++;
        updateCounter();

        if (foundGood >= GOOD_COUNT) {
          statusTextEl.textContent = '–ë—Ä–∞–≤–æ! –¢—ã –Ω–∞—à–ª–∞ –≤—Å–µ —Å–≤–æ–∏ —Ñ–æ—Ç–æ ‚ú® –¢–µ–ø–µ—Ä—å —Å–º–æ—Ç—Ä–∏ –Ω–∞ –∑–Ω–∞–∫–∏ –í—Å–µ–ª–µ–Ω–Ω–æ–π!';
          page.classList.add('game-complete');

          // —Å–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ
          document.querySelectorAll('.item').forEach((it) => {
            if (!it.classList.contains('found')) {
              it.classList.add('found');
            }
          });

          // –±–ª—ë—Å—Ç–∫–∏ 
          runSparklesExplosion();

          // —Å—Ç–æ–ø –æ—Å–Ω–æ–≤–Ω–æ–π –º—É–∑—ã–∫–∏
          if (audio) {
            audio.pause();
            audio.currentTime = 0;
          }

          // –ø–æ–±–µ–¥–Ω—ã–π –∑–≤—É–∫
          if (winSound) {
            winSound.play().catch(() => {});
          }
        } else {
          statusTextEl.textContent = '–£—É—Ñ—Ñ—Ñ! –ü—Ä–æ–¥–æ–ª–∂–∞–π –∏—Å–∫–∞—Ç—å —Å–≤–æ–∏ —Ñ–æ—Ç–æ‚Ä¶';
        }
      } else {
        // –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ç–æ ‚Äî –Ω–µ —É–±–∏—Ä–∞–µ–º, –ø—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç
        statusTextEl.textContent = '–≠—Ç–æ –Ω–µ —Ç–æ —Ñ–æ—Ç–æ üòè –ò—â–∏ –¥—Ä—É–≥–∏–µ.';
      }
    });
  </script>
</body>
</html>
